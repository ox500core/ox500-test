@charset "UTF-8";
/* =========================================================
   OX500 STATION - unified interface layer 
   ========================================================= */

:root {
  --bg: #050608;
  --panel: #070a0e;
  --ink: #b9d6df;
  --ink-dim: #6d8892;
  --cyan: #aee2ff;
  --amber: #ff6b35;
  --shadow: rgba(0,0,0,.65);
  --radius: 14px;
  --radius-sm: 10px;
  --mono: ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;
  --nav-btn-h: 26px;

  --crt-scanline: rgba(255,255,255,.035);

  --pad: clamp(14px,2.6vw,26px);
  --gap: clamp(10px,1.8vw,18px);

  --title-size: clamp(34px,6.2vw,78px);
  --title-tracking: clamp(6px,1.4vw,16px);
  --ox-text-main: var(--ink);
  --ox-accent: var(--cyan);
  --ox-font-mono: var(--mono);
  --ox-text-dim: var(--ink-dim);

  --home-reserve: clamp(220px, 18vh, 280px);

  --space-1: 2px;
  --space-2: 4px;
  --space-3: 6px;
  --space-4: 8px;
  --space-5: 10px;
  --space-6: 12px;
  --space-7: 14px;
  --space-8: 16px;
  --space-9: 20px;
  --space-10: 24px;
  --space-11: 32px;

  /* Kolory pochodne amberu (bez zmiennej RGB – stałe odcienie) */
  --amber-muted: rgba(255,192,160,.72);   /* nieaktywny stan toggle / scan-off */
  --amber-hover: rgba(255,222,198,.98);   /* hover / aktywny stan na tle ciemnym */

  /* RGB channels – jednopunktowa zmiana palety */
  --cyan-rgb: 174,226,255;
  --amber-rgb: 255,107,53;
  --ink-rgb: 185,214,223;
  --black-rgb: 0,0,0;
  --white-rgb: 255,255,255;

  /* Podstawowe stałe */
  --border: rgba(var(--ink-rgb), .16);
  --border-2: rgba(var(--ink-rgb), .10);
  --grid: var(--border-2);             /* = --border-2 — jedno źródło prawdy */

  /* Z-index scale */
  --z-bg: 0;
  --z-content: 1;
  --z-fx: 3;             /* body::after — efekty CRT / szum */
  --z-overlay: 4;
  --z-badge: 9;          /* render-ok-badge */
  --z-hud: 10;           /* live-feed-inline */
  --z-nav-fixed: 40;     /* home-hero fixed na mobile */
  --z-nav-float: 45;     /* mobile-log-nav overlay */
  --z-modal: 80;
  --z-notice: 999;       /* noscript-notice */
  --z-boot: 9999;
}

*{box-sizing:border-box;}

/* Stabilna baza wysokości + poziomy overflow */
html{
  height:100%;
  overflow-x:hidden;
  -webkit-text-size-adjust:100%;
}
body{
  height:100%;
  overflow-y:auto;
  overflow-x:clip;
  margin:0;
  background:var(--bg);
  color:var(--ink);
  font-family:var(--mono);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  isolation:isolate;
}

/* Fallback dla starszych przeglądarek */
@supports not (overflow-x:clip){
  body{overflow-x:hidden;}
}

/* Centralny uppercase */
:is(.topbar,.pill,.panel .hd,.title,.subtitle,.status .line,.feed,.btn,.bottombar,.nav-home,.nav-prev,.nav-next,.meta-pill,.log-entry summary,.log-line,.live-feed-label,.render-ok-badge,.panel-btn){
  text-transform:uppercase;
}

body::before{
  content:"";
  position:fixed;
  inset:0;
  background:
    radial-gradient(1100px 700px at 55% 40%, rgba(var(--cyan-rgb),.07), transparent 70%),
    radial-gradient(900px 520px at 45% 70%, rgba(var(--amber-rgb),.06), transparent 72%),
    linear-gradient(180deg, rgba(var(--white-rgb),.02), transparent 55%),
    repeating-linear-gradient(0deg, transparent 0 18px, var(--grid) 18px 19px),
    repeating-linear-gradient(90deg, transparent 0 18px, var(--grid) 18px 19px);
  opacity:.75;
  pointer-events:none;
  z-index:var(--z-bg);
}

body::after{
  content:"";
  position:fixed;
  inset:0;
  background:
    radial-gradient(ellipse at 50% 50%, transparent 55%, rgba(0,0,0,.55) 100%),
    radial-gradient(ellipse at 20% 25%, rgba(0,0,0,.35), transparent 48%),
    radial-gradient(ellipse at 85% 72%, rgba(0,0,0,.32), transparent 52%),
    repeating-linear-gradient(0deg, transparent 0 2px, var(--crt-scanline) 2px 3px),
    linear-gradient(90deg, rgba(255,0,0,.045), rgba(0,255,0,.02), rgba(0,0,255,.045)),
    url("data:image/svg+xml,%3Csvg viewBox='0 0 420 420' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='2.1' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.6'/%3E%3C/svg%3E");
  mix-blend-mode:overlay;
  opacity:.32;
  pointer-events:none;
  z-index:var(--z-fx);
}

/* Fallback dla mix-blend-mode: overlay */
@supports not (mix-blend-mode: overlay){
  body::after{
    mix-blend-mode:normal;
    opacity:.18;
  }
}

/* will-change tylko na desktopie z fine pointer (gdzie overlay jest aktywny) */
@media (hover:hover) and (pointer:fine){
  body::after{
    will-change:opacity;
  }
}

/* --- Viewport height hardened (vh -> svh -> dvh) --- */
.station{
  position:relative;
  z-index:var(--z-content);
  min-height:100vh;
  height:auto;
  width:100%;
  padding-top:max(var(--pad), env(safe-area-inset-top));
  padding-right:max(var(--pad), env(safe-area-inset-right));
  padding-bottom:max(var(--pad), env(safe-area-inset-bottom));
  padding-left:max(var(--pad), env(safe-area-inset-left));
}

.frame{
  position:relative;
  min-height:calc(100vh - (var(--pad) * 2));
  height:auto;
  width:100%;
  max-width:100%;
  border:1px solid rgba(var(--white-rgb),.08);
  border-radius:var(--radius);
  background:linear-gradient(180deg, rgba(var(--white-rgb),.03), transparent);
  box-shadow:0 30px 90px var(--shadow), inset 0 0 0 1px rgba(0,0,0,.7), inset 0 0 140px rgba(0,0,0,.7);
  overflow:hidden;
}

@supports (height: 100svh){
  .station{min-height:100svh;}
  .frame{min-height:calc(100svh - (var(--pad) * 2));}
}
@supports (height: 100dvh){
  .station{min-height:100dvh;}
  .frame{min-height:calc(100dvh - (var(--pad) * 2));}
}

.frame::before{
  content:"";
  position:absolute;
  inset:0;
  background:
    radial-gradient(1200px 700px at 50% 35%, rgba(var(--cyan-rgb),.08), transparent 70%),
    radial-gradient(800px 500px at 65% 70%, rgba(var(--amber-rgb),.06), transparent 72%);
  opacity:.7;
  pointer-events:none;
}

/* GRID - MOBILE FIRST */
.grid{
  position:relative;
  display:grid;
  gap:var(--gap);
  padding:var(--pad);
  grid-template-columns:1fr;
  grid-template-areas:
    "top"
    "center"
    "left"
    "right"
    "bottom";
}

/* DESKTOP LAYOUT – działa też na iPadach/touch */
@media (min-width:981px){
  .grid{
    position:absolute;
    inset:0;
    grid-template-columns:minmax(60px,120px) 1fr minmax(60px,120px);
    grid-template-rows:auto 1fr auto;
    grid-template-areas:
      "top top top"
      "left center right"
      "bottom bottom bottom";
  }
  .grid.grid-sidebars-wide{
    grid-template-columns:minmax(190px,260px) 1fr minmax(190px,260px);
  }

  .station{overflow:hidden;}
  .frame{overflow:hidden;}
}

/* Scroll-lock TYLKO na prawdziwym desktopie */
@media (min-width:981px) and (hover:hover) and (pointer:fine){
  body{overflow:hidden;}
}

.topbar{
  grid-area:top;
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:var(--space-6);
  padding:var(--space-5) var(--space-6);
  border:1px solid var(--border-2);
  border-radius:var(--radius-sm);
  background:rgba(var(--black-rgb),.28);
}

/* backdrop-filter tylko gdy wspierane */
@supports ((-webkit-backdrop-filter: blur(1px)) or (backdrop-filter: blur(1px))){
  .topbar{
    background:rgba(var(--black-rgb),.22);
    -webkit-backdrop-filter:blur(4px);
    backdrop-filter:blur(4px);
  }
}

.topbar :is(.left,.right){
  display:flex;
  gap:var(--space-8);
  flex-wrap:wrap;
  color:var(--ink-dim);
  font-size:12px;
  letter-spacing:.14em;
  line-height:1.2;
}

.pill{
  padding:var(--space-3) var(--space-6);
  border:1px solid var(--border-2);
  border-radius:999px;
  background:rgba(var(--black-rgb),.18);
  white-space:nowrap;
}
.pill b{color:var(--cyan);font-weight:700;}
.pill .hot{color:var(--amber);}

.panel{
  border:1px solid var(--border);
  border-radius:var(--radius-sm);
  background:rgba(var(--black-rgb),.28);
  overflow:hidden;
  position:relative;
  display:flex;
  flex-direction:column;
  height:100%;
}

.panel::before{
  content:"";
  position:absolute;
  inset:0;
  background:
    linear-gradient(180deg, rgba(var(--white-rgb),.03), transparent 38%),
    radial-gradient(500px 280px at 25% 20%, rgba(var(--cyan-rgb),.07), transparent 70%),
    radial-gradient(520px 320px at 80% 75%, rgba(var(--amber-rgb),.06), transparent 75%);
  opacity:.7;
  pointer-events:none;
}
.panel>*{position:relative;z-index:var(--z-content);}

.panel .hd{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:var(--space-5);
  padding:var(--space-3) var(--space-6) var(--space-6);
  border-bottom:1px solid var(--border-2);
  color:var(--ink-dim);
  font-size:12px;
  letter-spacing:.18em;
  background:rgba(var(--black-rgb),.22);
}

.panel .hd .tag{color:var(--cyan);}
.panel-hd-state-text{
  color:var(--ink-dim);
  font:inherit;
  letter-spacing:inherit;
}

.active-view-panel .active-view-actions{
  display:flex;
  justify-content:flex-start;
  align-items:center;
  padding:var(--space-2) var(--space-6);
  border-bottom:1px solid var(--border-2);
  background:rgba(0,0,0,.16);
}

.panel-btn,
:where(body[data-layout="home"]) .home-hero .controls .btn.bracket{
  appearance:none;
  border:0;
  background:none;
  padding:0;
  margin:0;
  min-height:0;
  border-radius:0;
  font:inherit;
  letter-spacing:inherit;
  cursor:pointer;
}

.active-view-panel .panel-btn{
  color:rgba(var(--cyan-rgb),.92);
  font:700 11px/1 var(--ox-font-mono);
  letter-spacing:.18em;
  transition:color .12s ease,text-shadow .12s ease,transform .12s ease;
}
.active-view-panel .panel-btn:hover{
  color:rgba(236,249,255,.98);
  text-shadow:0 0 10px rgba(var(--cyan-rgb),.22);
}
.active-view-panel .panel-btn:active{
  transform:translateY(1px);
}
.active-view-panel .panel-btn:focus-visible{
  outline:none;
  color:rgba(236,249,255,.98);
  text-shadow:0 0 12px rgba(var(--cyan-rgb),.24);
}

:where(body[data-layout="home"]) .home-hero .controls .btn.bracket{
  color:rgba(var(--cyan-rgb),.92);
  font:700 11px/1 var(--ox-font-mono);
  letter-spacing:.18em;
  transition:color .12s ease,text-shadow .12s ease,transform .12s ease;
}
:where(body[data-layout="home"]) .home-hero .controls .btn.bracket:hover{
  color:rgba(236,249,255,.98);
  text-shadow:0 0 10px rgba(var(--cyan-rgb),.22);
  transform:translateY(-1px);
}
:where(body[data-layout="home"]) .home-hero .controls .btn.bracket:focus-visible{
  outline:none;
  color:rgba(236,249,255,.98);
  text-shadow:0 0 12px rgba(var(--cyan-rgb),.24);
}

.active-view-panel .hd .active-view-mode-switch{
  display:inline-flex;
  align-items:center;
  gap:var(--space-3);
}
.active-view-panel .hd .active-view-mode-sep{
  color:rgba(var(--ink-rgb),.55);
}
.active-view-panel .hd .active-view-toggle-btn{
  display:inline-flex;
  align-items:center;
  gap:var(--space-3);
  font:inherit;
  letter-spacing:inherit;
  text-shadow:none;
  transition:text-shadow .12s ease;
}
.active-view-panel .hd .active-view-toggle-btn .mode-label{
  transition:color .12s ease,text-shadow .12s ease;
}
.active-view-panel .hd .active-view-toggle-btn .mode-label-live{
  color:rgba(var(--cyan-rgb),.96);
  text-shadow:0 0 11px rgba(var(--cyan-rgb),.22);
}
.active-view-panel .hd .active-view-toggle-btn .mode-label-scan{
  color:var(--amber-muted);
}
.active-view-panel .hd .active-view-toggle-btn.is-scan .mode-label-live{
  color:var(--amber-muted);
  text-shadow:none;
}
.active-view-panel .hd .active-view-toggle-btn.is-scan .mode-label-scan{
  color:rgba(var(--cyan-rgb),.96);
  text-shadow:0 0 11px rgba(var(--cyan-rgb),.22);
}

.active-view-panel .hd .active-view-toggle-btn:focus-visible{
  text-shadow:0 0 10px rgba(var(--cyan-rgb),.16);
}



#avScan[hidden]{display:none !important;}
#avScan:not([hidden]){
  display:flex;
  flex-direction:column;
  gap:var(--space-4);
  padding:var(--space-4) var(--space-6) var(--space-6);
  border-bottom:1px solid var(--border-2);
}

#scanInputWrapper{
  display:flex;
  align-items:center;
  gap:var(--space-4);
  border-bottom:1px solid rgba(var(--ink-rgb),.18);
  padding:var(--space-1) 0 3px;
  background:transparent;
}

.scan-prefix{
  color:rgba(var(--ink-rgb),.55);
  margin-right:var(--space-4);
  letter-spacing:.18em;
  font-size:11px;
  white-space:nowrap;
}

#scanInput{
  border:0;
  outline:none;
  background:transparent;
  color:rgba(var(--cyan-rgb),.92);
  font:600 12px/1.4 var(--ox-font-mono);
  padding:0;
  margin:0;
  width:100%;
  letter-spacing:.14em;
  flex:1;
  appearance:none;
  box-shadow:none;
  caret-color:rgba(var(--cyan-rgb),.92);
}
#scanInput::placeholder{
  color:rgba(var(--ink-rgb),.35);
  opacity:1;
}
#scanInputWrapper:focus-within{
  border-bottom-color:rgba(var(--cyan-rgb),.55);
  box-shadow:0 6px 18px rgba(var(--cyan-rgb),.06);
}

.scan-hint{
  display:block;
  margin:var(--space-1) 0 0;
  color:rgba(var(--ink-rgb),.58);
  font:600 11px/1.45 var(--ox-font-mono);
  letter-spacing:.14em;
}

.bracket{
  padding:var(--space-3) var(--space-5);
  letter-spacing:.08em;
}
.bracket::before{content:"[ ";}
.bracket::after{content:" ]";}

.panel .bd{
  padding:var(--space-6) var(--space-7);
  font-size:13px;
  line-height:1.6;
  letter-spacing:.08em;
  color:rgba(var(--ink-rgb),.80);
  flex:1;
  min-height:0;
}

.scroll{
  overflow:auto;
  scrollbar-width:thin;
  scrollbar-color:rgba(var(--ink-rgb),.08) transparent;
}
.scroll::-webkit-scrollbar{width:8px;}
.scroll::-webkit-scrollbar-thumb{background:rgba(var(--ink-rgb),.12);border-radius:4px;}
.scroll::-webkit-scrollbar-thumb:hover{background:rgba(var(--ink-rgb),.18);}

.log-text::-webkit-scrollbar{width:6px;}
.log-text::-webkit-scrollbar-thumb{background:rgba(var(--cyan-rgb),.10);border-radius:3px;}
.log-text::-webkit-scrollbar-thumb:hover{background:rgba(var(--cyan-rgb),.16);}

.mono{
  white-space:pre;
  overflow:hidden;
  text-overflow:ellipsis;
}

.leftcol{grid-area:left;display:grid;gap:var(--gap);grid-auto-rows:1fr;min-height:0;}
.left-column{display:flex;flex-direction:column;}
.recent-logs{flex:1;min-height:0;}

.rightcol{grid-area:right;display:grid;gap:var(--gap);grid-auto-rows:1fr;min-height:0;}

.center{
  grid-area:center;
  position:relative;
  display:flex;
  flex-direction:column;
  gap:var(--space-3);
}

.panel,.dock,.center,.grid > *,.panel .bd,.topbar{
  min-width:0;
  min-height:0;
}

:where(body[data-layout="home"]) .center > .home-hero{overflow:hidden;}
:where(body[data-layout="home"]) .home-hero .controls{gap:var(--space-4) var(--space-7);}
:where(body[data-layout="home"]) .home-hero .home-link{
  color:rgba(var(--ink-rgb),.82);
  text-decoration:none;
  font-family:var(--mono);
  font-size:12px;
  letter-spacing:.14em;
  line-height:1.4;
}
:where(body[data-layout="home"]) .home-hero .home-link:hover{
  color:var(--ox-accent);
  text-decoration:underline;
}

#overlayLayer{
  position:absolute;
  inset:0;
  pointer-events:none;
  display:none;
  z-index:var(--z-overlay);
}

.hero{
  border:1px solid var(--border);
  border-radius:var(--radius-sm);
  background:rgba(var(--black-rgb),.22);
  position:relative;
  overflow:visible;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  text-align:center;
  padding:clamp(20px,3.5vw,40px);
  min-height:min-content;
}

.hero-mini{padding:var(--space-8) var(--space-9);}
.hero-mini .status,.hero-mini .feed{display:none;}
.hero-mini .title{font-size:clamp(28px,4.5vw,48px);letter-spacing:clamp(4px,1vw,10px);}
.hero-mini .subtitle{margin-top:var(--space-4);font-size:12px;letter-spacing:.16em;}
.hero-mini .controls{margin-top:var(--space-6);gap:var(--space-4);}

.hero::before{
  content:"";
  position:absolute;
  inset:0;
  border-radius:var(--radius-sm);
  background:
    radial-gradient(900px 420px at 50% 35%, rgba(var(--cyan-rgb),.12), transparent 72%),
    radial-gradient(680px 420px at 50% 75%, rgba(var(--amber-rgb),.08), transparent 75%);
  opacity:.65;
  pointer-events:none;
}
.hero>*{position:relative;z-index:var(--z-content);}

.title{
  font-size:var(--title-size);
  letter-spacing:var(--title-tracking);
  margin:0;
  padding:var(--space-2) 0;
  color:rgba(var(--white-rgb),.88);
  text-shadow:0 0 24px rgba(var(--cyan-rgb),.18),0 0 10px rgba(var(--amber-rgb),.12);
  line-height:1.1;
}

.subtitle{
  margin-top:var(--space-5);
  font-size:13px;
  letter-spacing:.18em;
  color:rgba(var(--ink-rgb),.76);
}

.status{margin-top:var(--space-7);display:flex;flex-direction:column;gap:var(--space-4);}
.status .line{font-size:14px;letter-spacing:.18em;color:rgba(var(--ink-rgb),.76);}
.status .line .key{color:var(--amber);}
.status .line .val{color:rgba(var(--white-rgb),.84);}

.status .line,
.log-line,
.log-text,
.log-body,
.panel .bd{
  overflow-wrap:anywhere;
  word-break:break-word;
}

.controls{
  margin-top:var(--space-9);
  display:flex;
  flex-wrap:wrap;
  gap:var(--space-5);
  justify-content:center;
}

.feed{
  margin-top:var(--space-6);
  font-size:11px;
  letter-spacing:.12em;
  color:rgba(var(--ink-rgb),.58);
  opacity:.9;
  display:flex;
  gap:var(--space-6);
  align-items:center;
  justify-content:center;
  flex-wrap:wrap;
}
.feed .label{color:rgba(var(--cyan-rgb),.82);}
.feed .item{
  border:1px solid rgba(var(--ink-rgb),.12);
  background:rgba(var(--black-rgb),.18);
  border-radius:999px;
  padding:var(--space-3) var(--space-6);
  white-space:nowrap;
}

.btn{
  border:1px solid rgba(var(--ink-rgb),.18);
  background:rgba(var(--black-rgb),.18);
  color:rgba(var(--ink-rgb),.75);
  font-family:var(--mono);
  letter-spacing:.16em;
  font-size:11px;
  padding:var(--space-4) var(--space-6);
  border-radius:999px;
  cursor:pointer;
  transition:transform .12s ease,border-color .12s ease,color .12s ease,box-shadow .12s ease,background .12s ease;
  user-select:none;
  touch-action:manipulation;
  text-decoration:none;
  display:inline-flex;
  align-items:center;
  gap:var(--space-4);
}
.btn:hover{
  border-color:rgba(var(--cyan-rgb),.35);
  color:rgba(var(--white-rgb),.9);
  box-shadow:0 0 24px rgba(var(--cyan-rgb),.10);
  transform:translateY(-1px);
}
.btn.primary{
  border-color:rgba(var(--amber-rgb),.55);
  color:var(--amber);
  box-shadow:0 0 26px rgba(var(--amber-rgb),.10);
}
.btn.primary:hover{
  background:rgba(var(--amber-rgb),.06);
  box-shadow:0 0 30px rgba(var(--amber-rgb),.16);
}

.dock{
  display:flex;
  flex-direction:column;
  flex:1;
  gap:var(--gap);
}
.dock .panel{min-height:0;display:flex;flex-direction:column;flex:1;}
.center .dock .panel .bd{font-size:18px;opacity:1;flex:1;overflow:auto;}

.bottombar{
  grid-area:bottom;
  display:flex;
  justify-content:space-between;
  align-items:flex-end;
  gap:var(--space-7);
  padding:var(--space-5) var(--space-6);
  border:1px solid var(--border-2);
  border-radius:var(--radius-sm);
  background:rgba(0,0,0,.24);
}
.bottombar .left{
  max-width:65%;
  color:rgba(var(--ink-rgb),.58);
  font-size:11px;
  letter-spacing:.12em;
  line-height:1.3;
}
.bottombar .right{
  text-align:right;
  color:rgba(var(--ink-rgb),.58);
  font-size:11px;
  letter-spacing:.12em;
  line-height:1.3;
  white-space:nowrap;
}
.bottombar .right b{color:var(--amber);}

.glitch-invert{filter:invert(1) hue-rotate(180deg);}
.glitch-shift{transform:translateX(2px);}
.glitch-dim{opacity:.35;}

.log-text{text-transform:none;}
.log-text p{margin:0 0 var(--space-9);white-space:pre-wrap;}
.log-text p:last-child{margin-bottom:0;}
.log-text strong{
  color:rgba(var(--white-rgb),.98);
  font-weight:600;
  font-size:19px;
  text-shadow:0 0 10px rgba(var(--cyan-rgb),.18);
}
.log-text em{
  color:rgba(var(--cyan-rgb),.94);
  font-style:normal;
  font-size:18px;
  text-shadow:0 0 8px rgba(var(--cyan-rgb),.14);
}
.log-text code,.log-text pre{
  font-family:var(--mono);
  font-size:16px;
  color:rgba(var(--white-rgb),.92);
  background:rgba(0,0,0,.38);
  border:1px solid rgba(var(--ink-rgb),.18);
  border-radius:10px;
  text-shadow:0 0 8px rgba(var(--cyan-rgb),.10);
  white-space:pre-wrap;
}
.log-text code{padding:var(--space-1) var(--space-5);display:inline-block;line-height:1.6;}
.log-text pre{padding:var(--space-8) var(--space-9);overflow:auto;line-height:1.7;margin:var(--space-7) 0;}

.log-entry{
  border:1px solid rgba(var(--ink-rgb),.12);
  border-radius:12px;
  background:rgba(var(--black-rgb),.18);
  margin:0 0 var(--space-5);
  overflow:hidden;
}
.log-entry summary{
  cursor:pointer;
  list-style:none;
  padding:var(--space-6);
  border-bottom:1px solid rgba(var(--ink-rgb),.10);
  color:rgba(var(--white-rgb),.86);
  letter-spacing:.14em;
  font-size:12px;
}
.log-entry summary::-webkit-details-marker{display:none;}
.log-entry[open] summary{background:rgba(var(--white-rgb),.02);}
.log-grid{padding:var(--space-6);display:grid;gap:var(--space-4);}
.log-grid .log-title{color:rgba(var(--cyan-rgb),.86);letter-spacing:.12em;font-size:12px;}

.meta-line{display:flex;flex-wrap:wrap;gap:var(--space-4);align-items:center;}
.meta-pill{
  border:1px solid rgba(var(--ink-rgb),.12);
  background:rgba(var(--black-rgb),.18);
  border-radius:999px;
  padding:var(--space-3) var(--space-5);
  font-size:10px;
  letter-spacing:.12em;
  color:rgba(var(--ink-rgb),.66);
  white-space:nowrap;
}

.log-body{white-space:pre-wrap;word-break:break-word;}

.log-line{
  display:block;
  padding:var(--space-5) var(--space-6);
  border:1px solid rgba(var(--ink-rgb),.12);
  background:rgba(var(--black-rgb),.18);
  border-radius:12px;
  color:rgba(var(--ink-rgb),.82);
  text-decoration:none;
  margin:0 0 var(--space-5);
  letter-spacing:.12em;
  font-size:11px;
}
.log-line.naked,
.log-link-text.naked{
  border:0;
  background:none;
  box-shadow:none;
  padding:0;
  margin:0;
  border-radius:0;
  font-size:inherit;
  line-height:inherit;
  letter-spacing:inherit;
}
.log-line:hover{
  border-color:rgba(var(--cyan-rgb),.28);
  color:rgba(var(--white-rgb),.90);
  box-shadow:0 0 18px rgba(var(--cyan-rgb),.08);
}
.log-line .log-id{color:rgba(var(--amber-rgb),.92);margin-right:var(--space-4);}
.log-line .log-date{color:rgba(var(--ink-rgb),.55);margin-left:var(--space-4);}

.scan-deep-switch{
  display:inline-flex;
  align-items:center;
  gap:var(--space-2);
  cursor:pointer;
}
.scan-deep-sep{color:rgba(var(--ink-rgb),.55);}
.scan-deep-opt{transition:color .12s ease,text-shadow .12s ease;}
.scan-deep-switch .scan-deep-opt-on,
.scan-deep-switch .scan-deep-opt-off{color:var(--amber-muted);}
.scan-deep-switch.is-deep-on .scan-deep-opt-on{
  color:rgba(var(--cyan-rgb),.96);
  text-shadow:0 0 11px rgba(var(--cyan-rgb),.22);
}
.scan-deep-switch.is-deep-on .scan-deep-opt-off{
  color:var(--amber-muted);
  text-shadow:none;
}
.scan-deep-switch.is-deep-off .scan-deep-opt-on{
  color:var(--amber-muted);
  text-shadow:none;
}
.scan-deep-switch.is-deep-off .scan-deep-opt-off{
  color:rgba(var(--cyan-rgb),.96);
  text-shadow:0 0 11px rgba(var(--cyan-rgb),.22);
}

.recent-logs .log-entry{border:0;background:none;margin:0 0 var(--space-4);border-radius:0;}
.recent-logs .log-entry summary{display:none;}
.recent-logs .log-entry-body{padding:0;}
.recent-logs .logs{padding:0;display:flex;flex-direction:column;gap:0;}

.recent-logs :is(.log-line.naked,.log-link-text.naked){
  display:block;
  padding:0;
  text-decoration:none;
  color:inherit;
  opacity:.78;
  transition:opacity .12s ease,color .12s ease,text-shadow .12s ease;
}
.recent-logs :is(.log-line.naked,.log-link-text.naked):hover{
  opacity:1;
  text-decoration:underline;
}
.recent-logs :is(.log-line.naked,.log-link-text.naked):focus-visible{
  outline:1px solid rgba(var(--ink-rgb),.25);
  outline-offset:2px;
  opacity:1;
}
.recent-logs .log-line.naked .log-id,.recent-logs .log-line.naked .log-tag{color:inherit;margin:0;}
.recent-logs .log-line.naked{display:flex;align-items:baseline;width:100%;}
.recent-logs .log-line.naked .log-id{flex:0 0 auto;white-space:nowrap;margin-right:.45em;opacity:.95;}
.recent-logs .log-line.naked .log-tag{
  flex:1 1 auto;
  min-width:0;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
  opacity:.85;
}
.recent-logs .log-line.naked.is-current{opacity:1;}
.recent-logs .log-line.naked.is-current .log-id,
.recent-logs .log-line.naked.is-current .log-tag{
  color:rgba(var(--amber-rgb),.92);
  opacity:1;
}
.recent-logs .log-line.naked.is-current::before{
  content:">";
  width:1.2ch;
  margin-right:.35em;
  color:rgba(var(--amber-rgb),.92);
}
.recent-logs .recent-log-item::before{
  content:attr(data-prefix) " ";
  width:1.2ch;
  color:rgba(var(--white-rgb),.90);
}
.recent-logs .recent-log-item[data-prefix=">"]{
  color:rgba(var(--white-rgb),.96);
  text-shadow:0 0 8px rgba(var(--cyan-rgb),.14);
}

#recentLogsPanel,#disruptionNodesPanel{min-height:210px;}
#recentLogsPanel .bd,#disruptionNodesPanel .bd{padding-inline:var(--space-7);}
#disruptionNodesPanel .log-line.naked{padding:var(--space-2) 0;}
#disruptionNodesPanel .log-line.naked:hover{text-decoration:underline;}
#disruptionNodesPanel .log-line.naked .log-id{color:rgba(var(--amber-rgb),.92);}

#rightBlock1{
  white-space:pre-wrap;
  overflow:auto;
  text-overflow:clip;
  word-break:normal;
  overflow-wrap:normal;
  transition:filter .22s ease, opacity .22s ease;
}
#rightBlock1 .diag-phase-value{font-weight:700;}
#rightBlock1 .diag-phase-value.diag-phase-nominal{color:var(--cyan);}
#rightBlock1 .diag-phase-value.diag-phase-unstable{color:rgba(255,194,140,.96);}
#rightBlock1 .diag-phase-value.diag-phase-incident{color:rgba(255,158,126,.98);}
#rightBlock1.diag-pulse{filter:brightness(1.08);}

.nav-home,.nav-prev,.nav-next{
  display:inline-flex;
  align-items:center;
  gap:var(--space-4);
  padding:var(--space-6) var(--space-7);
  border-radius:999px;
  border:1px solid rgba(var(--ink-rgb),.18);
  background:rgba(var(--black-rgb),.18);
  color:rgba(var(--ink-rgb),.75);
  text-decoration:none;
  letter-spacing:.16em;
  font-size:12px;
}
.nav-home:hover,.nav-prev:hover,.nav-next:hover{
  border-color:rgba(var(--cyan-rgb),.35);
  color:rgba(var(--white-rgb),.9);
  box-shadow:0 0 24px rgba(var(--cyan-rgb),.10);
  transform:translateY(-1px);
}
.nav-prev,.nav-next{border-color:rgba(var(--amber-rgb),.35);color:rgba(var(--amber-rgb),.90);}
.nav-prev:hover,.nav-next:hover{background:rgba(var(--amber-rgb),.06);box-shadow:0 0 30px rgba(var(--amber-rgb),.14);}

:where(body[data-layout="home"]) #activeViewPanel .mobile-log-nav-btn{
  width:28px;
  height:26px;
  margin:0 6px 0 0;
  background:rgba(0,0,0,.55);
  color:rgba(200,200,200,.92);
  border:1px solid rgba(var(--cyan-rgb),.28);
  border-radius:5px;
  box-shadow:0 0 0 1px rgba(var(--white-rgb),.04) inset,0 0 10px rgba(var(--cyan-rgb),.10),0 6px 16px rgba(0,0,0,.55);
  font:600 14px/1 var(--ox-font-mono);
  letter-spacing:.02em;
  cursor:pointer;
  user-select:none;
  appearance:none;
  outline:none;
  position:relative;
  transform:translateZ(0);
}
:where(body[data-layout="home"]) #activeViewPanel .mobile-log-nav-btn::before{
  content:"";
  position:absolute;
  inset:0;
  border-radius:inherit;
  background:
    linear-gradient(to bottom, rgba(var(--white-rgb),.06), rgba(var(--white-rgb),0) 45%),
    repeating-linear-gradient(to bottom, rgba(var(--white-rgb),.03) 0px, rgba(var(--white-rgb),.03) 1px, transparent 3px, transparent 5px);
  opacity:.55;
  pointer-events:none;
}
:where(body[data-layout="home"]) #activeViewPanel .mobile-log-nav-btn::after{
  content:"";
  position:absolute;
  inset:-1px;
  border-radius:inherit;
  background:
    linear-gradient(to right, rgba(var(--cyan-rgb),.35), transparent) top left/10px 1px no-repeat,
    linear-gradient(to bottom, rgba(var(--cyan-rgb),.35), transparent) top left/1px 10px no-repeat,
    linear-gradient(to left, rgba(var(--cyan-rgb),.20), transparent) bottom right/10px 1px no-repeat,
    linear-gradient(to top, rgba(var(--cyan-rgb),.20), transparent) bottom right/1px 10px no-repeat;
  opacity:.75;
  pointer-events:none;
}
:where(body[data-layout="home"]) #activeViewPanel .mobile-log-nav-btn:hover{
  border-color:rgba(var(--cyan-rgb),.45);
  color:rgba(220,220,220,.98);
  box-shadow:0 0 0 1px rgba(var(--white-rgb),.05) inset,0 0 14px rgba(var(--cyan-rgb),.18),0 8px 18px rgba(0,0,0,.60);
  transform:translateY(-1px);
}
:where(body[data-layout="home"]) #activeViewPanel .mobile-log-nav-btn:active{
  transform:translateY(0);
  box-shadow:0 0 0 1px rgba(var(--white-rgb),.04) inset,0 0 10px rgba(var(--cyan-rgb),.10),0 4px 12px rgba(0,0,0,.65);
}

a{color:rgba(var(--cyan-rgb),.86);}
a:hover{color:rgba(var(--white-rgb),.92);}
a:focus-visible{
  outline:1px solid rgba(var(--cyan-rgb),.35);
  outline-offset:2px;
  text-shadow:0 0 10px rgba(var(--cyan-rgb),.14);
}

.live-feed-inline{
  position:absolute;
  top:var(--space-4);
  left:var(--space-5);
  z-index:var(--z-hud);
  display:flex;
  align-items:center;
  gap:var(--space-5);
  padding:0 var(--space-2);
  height:var(--space-8);
  max-width:520px;
}
.live-feed-label{font-size:10px;letter-spacing:.2em;color:var(--ox-text-dim);}
.live-feed-line{
  font-family:var(--ox-font-mono);
  font-size:11px;
  white-space:normal;
  overflow:visible;
  text-overflow:clip;
  overflow-wrap:anywhere;
  word-break:break-word;
  max-width:300px;
}

.render-ok-badge{
  position:absolute;
  right:var(--space-8);
  top:var(--space-6);
  z-index:var(--z-badge);
  font:11px/1.1 ui-monospace,monospace;
  letter-spacing:.14em;
  color:rgba(var(--white-rgb),.65);
  opacity:.9;
  border:1px solid rgba(var(--white-rgb),.10);
  border-radius:999px;
  padding:var(--space-3) var(--space-5);
  background:rgba(var(--black-rgb),.28);
}

.noscript-notice{
  position:fixed;
  left:var(--space-6);
  right:var(--space-6);
  bottom:var(--space-6);
  padding:var(--space-5) var(--space-6);
  border:1px solid rgba(var(--white-rgb),.12);
  border-radius:12px;
  background:rgba(0,0,0,.72);
  color:#ccc;
  font-family:ui-monospace,monospace;
  z-index:var(--z-notice);
}

#boot-layer{
  position:fixed;
  inset:0;
  background:#000;
  display:flex;
  align-items:center;
  justify-content:center;
  font-family:var(--ox-font-mono);
  letter-spacing:.2em;
  z-index:var(--z-boot);
  transition:opacity .3s ease;
}
#boot-layer.is-hidden{
  opacity:0;
  pointer-events:none;
}
#boot-layer.is-gone{
  display:none;
}

/* Home layout overrides */
:where(body[data-layout="home"]) .center{
  display:grid;
  grid-template-rows:minmax(0, 4fr) minmax(0, 1fr);
  gap:var(--gap);
  align-items:stretch;
}

:where(body[data-layout="home"]) .grid.grid-sidebars-wide{
  grid-template-rows:auto minmax(0, 1fr) auto;
  align-items:stretch;
}

:where(body[data-layout="home"]) .leftcol,
:where(body[data-layout="home"]) .center,
:where(body[data-layout="home"]) .rightcol{
  margin:0;
  padding-top:0;
  align-self:stretch;
}

:where(body[data-layout="home"]) .center > .active-view-panel{
  min-height:0;
  border-color:rgba(var(--ink-rgb),.28);
  box-shadow:inset 0 1px 0 rgba(var(--ink-rgb),.12), inset 0 0 0 1px rgba(var(--ink-rgb),.06);
  background:linear-gradient(180deg, rgba(var(--ink-rgb),.03), rgba(var(--black-rgb),.22));
}

:where(body[data-layout="home"]) .center > .active-view-panel .hd{
  border-bottom-color:rgba(var(--ink-rgb),.16);
}

:where(body[data-layout="home"]) .center > .active-view-panel .bd{
  color:rgba(196,218,228,.90);
}

:where(body[data-layout="home"]) #activeViewPanel .bd .mobile-active-log-title{
  pointer-events:none;
  text-align:left;
  margin:0 0 var(--space-7);
  padding:var(--space-2) var(--space-2) var(--space-5);
  border-bottom:1px solid rgba(var(--ink-rgb),.18);
  background:linear-gradient(180deg, rgba(var(--ink-rgb),.03), transparent);
  color:rgba(var(--cyan-rgb),.94);
  font-size:12px;
  letter-spacing:.16em;
  font-weight:700;
  line-height:1.35;
  transition:background-color .12s ease,border-color .12s ease,box-shadow .12s ease,color .12s ease;
}
:where(body[data-layout="home"]) #activeViewPanel .bd .mobile-active-log-title .mobile-active-log-prefix{color:rgba(var(--amber-rgb),.92);}
:where(body[data-layout="home"]) #activeViewPanel .bd .mobile-active-log-title .mobile-active-log-name{color:rgba(var(--cyan-rgb),.94);font-weight:700;}
:where(body[data-layout="home"]) #activeViewPanel .bd .mobile-active-log-title .mobile-active-log-link{
  cursor:pointer;
  pointer-events:auto;
  color:rgba(var(--cyan-rgb),.94);
  font-weight:700;
  text-decoration:none;
  transition:color .12s ease,text-shadow .12s ease;
}
:where(body[data-layout="home"]) #activeViewPanel .bd .mobile-active-log-title .mobile-active-log-link:hover{text-decoration:underline;}
:where(body[data-layout="home"]) #activeViewPanel .bd .mobile-active-log-title .mobile-active-log-link:focus-visible{text-decoration:underline;outline:none;text-shadow:0 0 8px rgba(var(--cyan-rgb),.24);}

:where(body[data-layout="home"]) .center > .home-hero{
  min-height:0;
  align-self:end;
  margin-top:0;
  padding-top:var(--space-4);
  padding-bottom:var(--space-4);
  opacity:.72;
}

:where(body[data-layout="home"]) .center > .home-hero .title{
  font-size:calc(var(--title-size) * 0.68);
  letter-spacing:calc(var(--title-tracking) * 0.60);
  line-height:1.05;
}

:where(body[data-layout="home"]) .home-hero .status{margin-top:var(--space-4);opacity:.78;}
:where(body[data-layout="home"]) .home-hero .controls{margin-top:var(--space-5);}

/* Desktop home – vh baza, svh gdy wspierane, dvh preferowane */
@media (min-width:981px){
  :where(body[data-layout="home"]) .center{
    grid-template-rows:minmax(0, 1fr) auto;
    min-height:0;
  }

  :where(body[data-layout="home"]) .center > .active-view-panel{
    min-height:0;
    max-height: calc(100vh - var(--home-reserve));
    overflow:hidden;
    display:flex;
    flex-direction:column;
  }

  :where(body[data-layout="home"]) .center > .active-view-panel .bd{
    min-height:0;
    overflow:auto;
  }

  @supports (height: 100svh){
    :where(body[data-layout="home"]) .center > .active-view-panel{
      max-height: calc(100svh - var(--home-reserve));
    }
  }
  @supports (height: 100dvh){
    :where(body[data-layout="home"]) .center > .active-view-panel{
      max-height: calc(100dvh - var(--home-reserve));
    }
  }
}
/* Mobile overrides – połączony padding z buforem */
@media (max-width:980px){
  :where(body[data-layout="home"]) .topbar{
    flex-direction:row;
    align-items:center;
    justify-content:space-between;
  }
  :where(body[data-layout="home"]) .topbar :is(.left,.right){
    align-items:center;
    flex-wrap:nowrap;
  }
  :where(body[data-layout="home"]) #activeViewPanel .bd .mobile-active-log-title{
    pointer-events:auto;
  }
  :where(body[data-layout="home"]) #activeViewPanel .bd .mobile-active-log-title.is-pressed{
    background:rgba(var(--cyan-rgb),.09);
    border-bottom-color:rgba(var(--cyan-rgb),.42);
    box-shadow:0 0 0 1px rgba(var(--cyan-rgb),.18) inset, 0 0 24px rgba(var(--cyan-rgb),.12);
    color:rgba(232,246,255,.98);
    transform:translateY(1px);
  }

  /* Połączony padding + bufor pod hero */
  :where(body[data-layout="home"]) #activeViewPanel .bd{
    padding: var(--space-5) var(--space-6);
    padding-bottom: calc(clamp(40px, 6vh, 90px) + env(safe-area-inset-bottom));
  }

  body::after{display:none;}
  .hero .controls{display:none;}
  .live-feed-inline{display:none;}
  .time-pill{display:none;}

  :where(body[data-layout="home"]) #activeViewPanel .hd .active-view-mode-switch{display:none;}
  :where(body[data-layout="home"]) #activeViewPanel .active-view-actions{
    padding:var(--space-2) var(--space-5);
    justify-content:flex-start;
  }
  :where(body[data-layout="home"]) #activeViewPanel .active-view-actions .panel-btn{
    color:inherit;
  }

  :where(body[data-layout="home"]) #activeViewPanel .active-view-actions .panel-btn:hover{
    color:var(--amber-hover);
    text-shadow:0 0 10px rgba(var(--amber-rgb),.20);
  }

  :where(body[data-layout="home"]) .topbar .panel-btn.mobile-topbar-scan{
    padding:0;
    margin-left:auto;
    background:none;
    box-shadow:none;
    color:rgba(var(--cyan-rgb),.92);
    transition:color .12s ease,text-shadow .12s ease;
  }
  :where(body[data-layout="home"]) .topbar .panel-btn.mobile-topbar-scan .mode-label-live{
    color:rgba(var(--cyan-rgb),.96);
    text-shadow:0 0 11px rgba(var(--cyan-rgb),.22);
    transition:color .12s ease,text-shadow .12s ease;
  }
  :where(body[data-layout="home"]) .topbar .panel-btn.mobile-topbar-scan .mode-label-scan{
    color:var(--amber-muted);
    transition:color .12s ease,text-shadow .12s ease;
  }
  :where(body[data-layout="home"]) .topbar .panel-btn.mobile-topbar-scan.is-scan .mode-label-live{
    color:var(--amber-muted);
    text-shadow:none;
  }
  :where(body[data-layout="home"]) .topbar .panel-btn.mobile-topbar-scan.is-scan .mode-label-scan{
    color:rgba(var(--cyan-rgb),.96);
    text-shadow:0 0 11px rgba(var(--cyan-rgb),.22);
  }

  :where(body[data-layout="home"]) .topbar .panel-btn.mobile-topbar-scan:hover{
    color:var(--amber-hover);
    text-shadow:0 0 10px rgba(var(--amber-rgb),.20);
  }

  :where(body[data-layout="home"]) .topbar #avScan.mobile-topbar-scan-panel{
    position:absolute;
    top:calc(100% + var(--space-3));
    right:0;
    width:min(92vw, 430px);
    max-height:58dvh;
    overflow:auto;
    padding:var(--space-4);
    border:1px solid var(--border);
    border-radius:var(--radius-sm);
    background:rgba(7,10,14,.96);
    box-shadow:0 20px 50px rgba(0,0,0,.45), 0 0 24px rgba(var(--cyan-rgb),.08);
    z-index:var(--z-modal);
  }

  :where(body[data-layout="home"]) #activeViewPanel .mobile-log-nav{
    position:fixed;
    inset:0;
    pointer-events:none;
    z-index:var(--z-nav-float);
  }
  :where(body[data-layout="home"]) #activeViewPanel .mobile-log-nav-btn{
    position:absolute;
    top: calc(50% - (var(--nav-btn-h) / 2));
    transform:none;
    width:28px;
    height: var(--nav-btn-h);
    font-size:14px;
    line-height:1;
    pointer-events:auto;
    touch-action:manipulation;
  }


  :where(body[data-layout="home"]) #activeViewPanel .mobile-log-nav-btn.prev{left:var(--space-2);}
  :where(body[data-layout="home"]) #activeViewPanel .mobile-log-nav-btn.next{right:var(--space-2);}

  /* FIX #1: scope padding reset tylko do HOME */
  :where(body[data-layout="home"]) .grid{padding-left:0;padding-right:0;}

  :where(body[data-layout="home"]) .station{
    padding-top:env(safe-area-inset-top) !important;
    padding-bottom:env(safe-area-inset-bottom) !important;
    padding-left:0 !important;
    padding-right:0 !important;
    overflow-x:hidden;
  }
  :where(body[data-layout="home"]) .grid{
    padding-top:0 !important;
    gap:var(--space-3);
    grid-template-areas:"top" "center";
    grid-template-rows:auto minmax(0,1fr);
  }
  :where(body[data-layout="home"]) .topbar{
    margin-top:0 !important;
    gap:var(--space-3);
    padding:var(--space-4) var(--space-4) var(--space-4) var(--space-3);
  }
  :where(body[data-layout="home"]) :is(.topbar .left, .topbar .right){gap:var(--space-3);}
  :where(body[data-layout="home"]) .topbar .pill{
    padding:var(--space-2) var(--space-4);
    font-size:10px;
  }

  /* FIX #2: panel overlay off tylko na HOME */
  :where(body[data-layout="home"]) .panel::before{display:none;}

  .topbar{backdrop-filter:none;-webkit-backdrop-filter:none;}
  .frame{box-shadow:none;width:100%;}

  :where(body[data-layout="home"]){overflow-x:hidden;}
  :where(body[data-layout="home"]) :is(.station, .frame, .grid){max-width:100%;}
  :where(body[data-layout="home"]) .pill{max-width:100%;overflow:hidden;text-overflow:ellipsis;}
  :where(body[data-layout="home"]) .active-view-panel pre,
  :where(body[data-layout="home"]) .active-view-panel code{max-width:100%;}
  :where(body[data-layout="home"]) .topbar .optional.deep{display:none;}
  :where(body[data-layout="home"]) :is(.leftcol, .rightcol, #recentLogsPanel, #disruptionNodesPanel, .bottombar, .render-ok-badge){display:none;}

  :where(body[data-layout="home"]) .center{
    min-height:0;
    padding-bottom:max(var(--space-3), env(safe-area-inset-bottom));
    grid-template-rows:auto auto;
  }
  :where(body[data-layout="home"]) .center > .home-hero{
    position:fixed;
    left:env(safe-area-inset-left);
    right:env(safe-area-inset-right);
    bottom:env(safe-area-inset-bottom);
    z-index:var(--z-nav-fixed);
    margin:0;
    border-radius:0;
    border-left:0;
    border-right:0;
    padding:var(--space-4) var(--space-5);
    background:rgba(5,6,8,.96);
    max-width:calc(100vw - env(safe-area-inset-left) - env(safe-area-inset-right));
    box-sizing:border-box;
  }
  @supports (position:sticky){
    :where(body[data-layout="home"]) .center > .home-hero{
      position:sticky;
      left:auto;
      right:auto;
      bottom:0;
      border-left:1px solid var(--border);
      border-right:1px solid var(--border);
      border-radius:var(--radius-sm);
      max-width:100%;
    }
  }

  .mono{white-space:pre-wrap;}
  .bottombar .left{max-width:100%;}
  .log-text{font-size:19px;line-height:1.9;}
  .log-text strong{font-size:20px;}
  .log-text code,.log-text pre{font-size:17px;}
  :where(body[data-layout="home"]) #activeViewPanel .hd{padding:var(--space-6);}
}

/* =========================================================
   ACCESSIBILITY – prefers-reduced-motion
   Disables all transitions and animations for users who
   have requested reduced motion at the OS/browser level.
   WCAG 2.1 Success Criterion 2.3.3 (AAA) / 2.3.1 (AA)
   ========================================================= */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation: none !important;
    transition: none !important;
  }
}
@media (hover:none) and (pointer:coarse){

  .active-view-panel .panel-btn:focus,
  .active-view-panel .panel-btn:focus-visible{
    color:inherit;
    text-shadow:none;
  }

  .active-view-panel .active-view-toggle-btn:focus,
  .active-view-panel .active-view-toggle-btn:focus-visible{
    text-shadow:none;
  }

}
.panel-btn{
  -webkit-tap-highlight-color: transparent;
}
@media (min-width:700px) and (max-width:980px) and (orientation:portrait){

  :where(body[data-layout="home"]) .center{
    display:flex;
    flex-direction:column;
  }

  :where(body[data-layout="home"]) .center > .active-view-panel{
    flex:1;
    min-height:0;
  }

  :where(body[data-layout="home"]) .center > .home-hero{
  flex:0 0 auto;

  position:relative;
  left:auto;
  right:auto;
  bottom:auto;

  width:100%;
  max-width:100%;

  border-radius:var(--radius-sm);
  border-left:1px solid var(--border);
  border-right:1px solid var(--border);
}


}
